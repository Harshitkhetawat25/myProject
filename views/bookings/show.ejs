<% layout("layouts/boilerplate.ejs") %>

<div class="container mt-5">
    <div class="card">
        <div class="card-header">
            <h3>Booking Confirmation</h3>
        </div>
        <div class="card-body">
            <h5 class="card-title">Booking ID: <%= booking._id %></h5>
            <p class="card-text">Booked on: <%= new Date(booking.bookingDate).toLocaleDateString() %></p>
            <hr>
            
            <h5>Property Details</h5>
            <p><strong><%= booking.listing.title %></strong></p>
            <p><%= booking.listing.location %>, <%= booking.listing.country %></p>
            <p>₹<%= booking.listing.price.toLocaleString('en-IN') %> per night</p>
            <hr>
            
            <h5>Booking Details</h5>
            <p>Check-in: <%= new Date(booking.checkIn).toLocaleDateString() %></p>
            <p>Check-out: <%= new Date(booking.checkOut).toLocaleDateString() %></p>
            <p>Guests: <%= booking.guests %></p>
            <hr>
            
            <h4>Total: ₹<%= booking.totalPrice.toLocaleString('en-IN') %></h4>
            
            <a href="/bookings/<%= booking._id %>/download" class="btn btn-primary mt-3">Download Invoice</a>
            <a href="/listings/<%= booking.listing._id %>" class="btn btn-secondary mt-3">Back to Listing</a>
        </div>
    </div>
</div>